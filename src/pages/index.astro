---
import MainLayout from "../layouts/MainLayout.astro";
import ArticleCard from "../components/ArticleCard.astro";
import { fetchArticles } from "../js/utils";

const articles = await fetchArticles({ limit: 3 });

const title = "Home";
---

<MainLayout {title}>
  <section aria-labelledby="about-me-title">
    <hgroup>
      <h1 id="about-me-title">
        Alessandro Bozzoli<span class="visually-hidden">'s blog</span>
      </h1>
      <p>Front-end Developer & Web Accessibility Specialist</p>
    </hgroup>
    <p>
      Serial overthinker,<br />
      fervently passionate about<br />
      <strong>CSS</strong> and <strong>accessibility</strong>.
    </p>
  </section>

  <h2 id="latest-articles-title">Latest articles</h2>
  <ul class="card-stack" role="list" aria-labelledby="latest-articles-title">
    {articles.map((article, index) => <ArticleCard {article} {index} hLevel="h3" />)}
  </ul>
</MainLayout>

<style lang="scss">
  section {
    margin-bottom: 48px;

    hgroup {
      margin-bottom: 8px;

      h2 {
        margin-bottom: 0;
      }

      p {
        font-size: var(--fs-14px);
      }
    }

    > p {
      font-size: var(--fs-20px);
    }
  }
</style>
