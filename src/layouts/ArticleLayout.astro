---
import MainLayout from "./MainLayout.astro";
import { formatDate } from "../js/utils";
import RelatedArticles from "../components/RelatedArticles.astro";

const { frontmatter } = Astro.props;
const { title, category, publishDate, updateDate } = frontmatter;
---

<MainLayout {title}>
  <article>
    <hgroup>
      <h1>{title}</h1>
      <p>Posted on {formatDate(publishDate)}{updateDate && `, Last updated on ${formatDate(updateDate)}`}</p>
    </hgroup>

    <slot />

    <RelatedArticles {category} {title} />
  </article>
</MainLayout>

<style lang="scss">
  hgroup {
    text-align: center;
    margin-bottom: 48px;

    h1 {
      font-size: var(--fs-56px);
      margin-bottom: 0.5rem;
      text-wrap: balance;

      @media (max-width: 768px) {
        font-size: var(--fs-32px);
      }
    }

    p {
      font-size: var(--fs-14px);
    }
  }
</style>
